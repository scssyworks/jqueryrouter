<div class="c-demo-3 js-demo-3 js-demos <% if (!path.match(/\/demos\/demo3/)) { %>d-none<% } %>">
    <h2>Persist Data</h2>
    <p>As we saw in demo 2, we were able to persist progress of modal window in the route itself. That's one way of doing it. There are several ways you can persist data:</p>
    <p>
        <ol>
            <li>Using route params</li>
            <li>Using query strings</li>
            <li>Using web storage</li>
        </ol>
    </p>
    <p>Demo 2 was a classic example of data persistence using route params. How do we persist data using query string?</p>
    <p>It's quite easy!</p>
    <pre>
        <code>
    router.set({
        route: '/demos/demo3',
        queryString: 'q=value&r=othervalue'
    });</code>
    </pre>
    <p>Silk router appends query string to the URL and passes the query object to handler as shown below:</p>
    <pre>
        <code>
    route('/demos/demo3', function (e) {
        const { <b>query</b> } = e;
        console.log(query); <span class="comment">// Should print { q: 'value', r: 'othervalue' }</span>
    });</code>
    </pre>
    <p>In order to make this example work, you need to have following peer dependency installed:</p>
    <p><a href="https://www.npmjs.com/package/deparam.js">Deparam</a></p>
    <button class="btn btn-primary js-query">Try it!</button>
    <br />
    <br />
    <p>Your data:</p>
    <pre class="js-query-data">No data!</pre>
    <p>Another way to persist data is to use <code>state</code> object. State objects are stored in browser using <code>pushState</code>. As of version 3 silkrouter uses default state object and fallbacks to local storage if state object is unavailable.</p>
    <p>As an example we have already passed <code>data</code> when calling <code>set</code> function on current route. You can see the sample data below:</p>
    <pre>
        <code>
    router.set({
        route: '/demos/demo3',
        data: {
            sample: 'Hello World!'
        }
    });</code>
    </pre>
    <p>Storage data:</p>
    <pre class="js-storage-data"></pre>
    <p>Use browser back or forward or try refreshing the page.</p>

</div>