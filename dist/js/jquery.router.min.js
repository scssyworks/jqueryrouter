!function(t,a){function e(t){return"number"==typeof t||"string"==typeof t&&!isNaN(+t)}function n(t){return/\[/.test(t)}function r(t,a,e){var n=t[0],r=o(t[1]);n in a?(a[n]=Array.isArray(a[n])?a[n]:[a[n]],a[n].push(r)):a[n]=e?[r]:r}function o(t){return"string"!=typeof t?"":(t=t.trim())?"undefined"!==t?"null"===t?null:"NaN"===t?NaN:isNaN(+t)?"true"===t.toLowerCase()||"false"!==t.toLowerCase()&&t:+t:void 0:""}function i(t){var a={};return Array.isArray(t)?(t.forEach(function(t,e){a[e]=t}),a):{}}a&&(a.deparam||(a.deparam=function(t){if("string"==typeof t){if(""===(t=decodeURIComponent(t).replace("?","").trim()))return{};var a=t.split("&"),u={};return a.forEach(function(t){var a=t.split("=");n(a[0])?function t(a,u,h){var s=a.match(/([^\[]+)\[([^\[]*)\]/),c=s[1],p=s[2];if(s&&3===s.length){a=a.replace(/\[([^\[]*)\]/,"");var d=null;n(a)?(""===p&&(p="0"),a=a.replace(/[^\[]+/,p),null===h[c]&&(h[c]=[null]),d=Array.isArray(h[c])?e(p)?h[c]:h[c]=i(h[c]):"object"==typeof h[c]?h[c]:void 0===h[c]?e(p)?h[c]=[]:h[c]={}:h[c]=[h[c]],t(a,u,d)):p?(null===h[c]&&(h[c]=[null]),Array.isArray(h[c])?e(p)?h[c][p]=o(u):(h[c]=i(h[c]),h[c][p]=o(u)):"object"==typeof h[c]?h[c][p]=o(u):void 0===h[c]?(e(p)?h[c]=[]:h[c]={},h[c][p]=o(u)):(h[c]=[h[c]],e(p)?h[c][p]=o(u):((d={})[p]=o(u),h[c].push(d)))):r([s[1],u],h,!0)}}(a[0],a[1],u):r(a,u)}),u}}))}(window,window.jQuery),function(t,a,e){if(a&&a.fn){var n={handlers:[]},r=e&&e.pushState,o={noTrigger:!1},i={pathname:/^\/(?=[^?]*)/,routeparams:/:[^\/]+/g},u={routeChanged:"routeChanged",hashchange:"hashchange",popstate:"popstate"},h={invalidPath:"Path is invalid"};if(!a.router){if(a.router={events:u,init:function(){var e={eventType:r?u.popstate:u.hashchange,hash:!r,route:r?t.location.pathname:t.location.hash};a.router.events.trigger(u.routeChanged,{data:e}),t.location.hash&&a(t).trigger(u.hashchange)},historySupported:r},a.router.events.trigger=function(e,i){(function(e,i){(i=a.extend(i,{})).data=a.extend({},i.data);var u=i.data.hash;n.handlers.forEach(function(a){a.eventName===e&&(r&&!u&&g(a.route,t.location.pathname,i)?a.handler(i.data,i.params,d()):u&&(t.location.hash||r||!g(a.route,t.location.pathname,i)?g(a.route,t.location.hash.substring(1),i)&&a.handler(i.data,i.params,d()):(o.data=i.data,t.location.replace("#"+t.location.pathname))))})}).apply(this,[e,i])},!a.fn.route){var s=a.fn.route=function(){(function(t,a){n.handlers.push({eventName:u.routeChanged,handler:a.bind(this),element:this,route:t})}).apply(this,arguments)};a.route||(a.route=s.bind(null))}a.router.set=function(){(function(n,i,h){if(n){var s=null,c="",p="",d=!1,f=!1,g=i?"replaceState":"pushState";o.noTrigger=h,"object"==typeof n?(o.data={data:n.data},s=n.title,c=n.route,p=n.queryString,d=n.appendQuery):"string"==typeof n&&(o.data={data:{}},c=n),"#"===c.charAt(0)&&(f=!0,c=c.replace("#","")),r&&!f?(e[g](o.data,s,l(c,p,d)),h||(o.data.data=a.extend({},o.data.data,{eventType:u.popstate,hash:!1,route:c}),a.router.events.trigger(u.routeChanged,o.data))):i?t.location.replace("#"+l(c,p,d)):t.location.hash=l(c,p,d)}}).apply(this,arguments)},a.setRoute||(a.setRoute=a.router.set)}n.init=function(){a(t).on(u.popstate,function(a){p.apply(this,[t.location.pathname,a.type])}),a(t).on(u.hashchange,function(a){p.apply(this,[t.location.hash,a.type,!0])})},n.init()}function c(t){return Array.prototype.slice.call(t)}function p(t,e,n){n=!!n,o.noTrigger&&e===u.hashchange?o.noTrigger=!1:(o.data=o.data||{data:{}},o.data.data=a.extend({},o.data.data,{eventType:e,hash:n,route:t}),a.router.events.trigger(u.routeChanged,o.data))}function d(){var e=a.deparam(t.location.search),n={};return t.location.hash.match(/\?.+/)&&(n=a.deparam(t.location.hash.match(/\?.+/)[0])),a.extend(e,n)}function l(a,e,n){if("string"==typeof(s=a)&&i.pathname.test(s))return r=a,u=n,(o=e)||u?"string"==typeof o?(o=o.trim())&&u?r+t.location.search+"&"+o.replace("?",""):o?r+"?"+o.replace("?",""):r:void 0:r;var r,o,u,s;!function(t){throw new Error(t)}(h.invalidPath)}function f(t){return t.replace(/^([^a-zA-Z0-9]+)|([^a-zA-Z0-9]+)$/g,"")}function g(t,a,e){if(~a.indexOf("?")&&(a=a.substring(0,a.indexOf("?"))),i.routeparams.lastIndex=0,!i.routeparams.test(t))return t===a||"*"===t;e.params={};var n=new RegExp(t.replace(/\//g,"\\/").replace(/:[^\/\\]+/g,"([^\\/]+)"));if(n.test(a)){var r=c(t.match(i.routeparams)).map(f),o=c(a.match(n));return o.shift(),r.forEach(function(t,a){e.params[t]=o[a]}),!0}return!1}}(window,window.jQuery,window.history);